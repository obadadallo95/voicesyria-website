# ๐ ุฏููู ุชุญุฏูุซ ุงูููุงุชูุญ - Update Keys Guide

## โ ุชู ูุญุต ุงููููุน - ุงููุชูุฌุฉ: ุขูู

ุชู ูุญุต ุฌููุน ูููุงุช ุงููููุน ุจุดูู ุฏููู:
- โ **ูุง ุชูุฌุฏ ููุงุชูุญ ููุดููุฉ ูู ุงูููุฏ**
- โ **ุฌููุน ุงูููุงุชูุญ ุชููุฑุฃ ูู Environment Variables**
- โ **ุงููููุน ุฌุงูุฒ ููุนูู ูุน ุงูููุงุชูุญ ุงูุฌุฏูุฏุฉ**

---

## ๐ ุฎุทูุงุช ุชุญุฏูุซ ุงูููุงุชูุญ

### ุงูุฎุทูุฉ 1: ุชุญุฏูุซ Environment Variables ูู Vercel

1. **ุงุฐูุจ ุฅูู Vercel Dashboard**:
   - [https://vercel.com/dashboard](https://vercel.com/dashboard)
   - ุณุฌูู ุงูุฏุฎูู

2. **ุงุฎุชุฑ ูุดุฑูุนู** (`voicesyria-website`)

3. **ุงุฐูุจ ุฅูู Settings โ Environment Variables**

4. **ุญุฏูุซ ุงููุชุบูุฑุงุช ุงูุชุงููุฉ**:

   #### ุฃ. `NEXT_PUBLIC_SUPABASE_URL`
   - ุฅุฐุง ูุงู ููุฌูุฏุงู: ุงุถุบุท ุนูู **Edit** ูุญุฏูุซ ุงููููุฉ
   - ุฅุฐุง ูู ููู ููุฌูุฏุงู: ุงุถุบุท ุนูู **Add New** ูุฃุถูู
   - **ุงููููุฉ**: ุงูููุชุงุญ ุงูุฌุฏูุฏ ูู Supabase Dashboard

   #### ุจ. `NEXT_PUBLIC_SUPABASE_ANON_KEY`
   - ุฅุฐุง ูุงู ููุฌูุฏุงู: ุงุถุบุท ุนูู **Edit** ูุญุฏูุซ ุงููููุฉ
   - ุฅุฐุง ูู ููู ููุฌูุฏุงู: ุงุถุบุท ุนูู **Add New** ูุฃุถูู
   - **ุงููููุฉ**: ุงูููุชุงุญ ุงูุฌุฏูุฏ ูู Supabase Dashboard

5. **ุงุฎุชุฑ ุงูุจูุฆุฉ** (Environment):
   - โ **Production** - ููุฅูุชุงุฌ (ูุทููุจ)
   - โ **Preview** - ูููุนุงููุฉ (ุงุฎุชูุงุฑู)
   - โ **Development** - ููุชุทููุฑ (ุงุฎุชูุงุฑู)

6. **ุงุญูุธ ุงูุชุบููุฑุงุช**

---

### ุงูุฎุทูุฉ 2: ุฅุนุงุฏุฉ ูุดุฑ ุงููููุน

1. **ูู Vercel Dashboard**:
   - ุงุฐูุจ ุฅูู **Deployments**
   - ุงุฎุชุฑ ุขุฎุฑ deployment
   - ุงุถุบุท ุนูู **"..."** (ุซูุงุซ ููุงุท)
   - ุงุฎุชุฑ **"Redeploy"**

2. **ูู ูุงูุฐุฉ Redeploy**:
   - โ๏ธ **ูุง ุชุฎุชุงุฑ "Use existing Build Cache"**
   - ุงุถุบุท ุนูู **"Redeploy"**

3. **ุงูุชุธุฑ ุญุชู ููุชูู ุงูุจูุงุก** (ุนุงุฏุฉ 1-3 ุฏูุงุฆู)

---

### ุงูุฎุทูุฉ 3: ุงุฎุชุจุงุฑ ุงููููุน

ุจุนุฏ ุงูุชูุงู ุงููุดุฑ:

1. **ุงูุชุญ ุงููููุน ุงูููุดูุฑ**
2. **ุชุญูู ูู ุนูู ุงูุตูุญุงุช**:
   - ุงูุตูุญุฉ ุงูุฑุฆูุณูุฉ
   - ุตูุญุฉ ุงูุฅุญุตุงุฆูุงุช (`/stats`)
   - ุตูุญุฉ ุงููุญุงูุธุงุช
   - ุตูุญุฉ ุงูุชุจุฑุนุงุช

3. **ุชุญูู ูู Console** (F12):
   - ูุง ุชูุฌุฏ ุฃุฎุทุงุก Supabase
   - ูุง ุชูุฌุฏ ุฑุณุงุฆู "Supabase not configured"

4. **ุชุญูู ูู Network tab**:
   - ุงูุทูุจุงุช ุฅูู Supabase ุชุนูู
   - ูุง ุชูุฌุฏ ุฃุฎุทุงุก 401 ุฃู 403

---

### ุงูุฎุทูุฉ 4: ุชุญุฏูุซ ุงููููุงุช ุงููุญููุฉ (ููุชูููุฉ)

ุฅุฐุง ููุช ุชุนูู ุนูู ุงููููุน ูุญููุงู:

1. **ุงูุชุญ ููู `.env.local`** ูู ุฌุฐุฑ ุงููุดุฑูุน

2. **ุญุฏูุซ ุงูููุงุชูุญ**:
   ```env
   NEXT_PUBLIC_SUPABASE_URL=https://your-new-project-id.supabase.co
   NEXT_PUBLIC_SUPABASE_ANON_KEY=your-new-anon-key-here
   ```

3. **ุงุญูุธ ุงูููู**

4. **ุฃุนุฏ ุชุดุบูู ุฎุงุฏู ุงูุชุทููุฑ**:
   ```bash
   # ุฃููู ุงูุฎุงุฏู (Ctrl+C)
   npm run dev
   ```

---

## ๐งช ุงุฎุชุจุงุฑ API Endpoints

ุจุนุฏ ุชุญุฏูุซ ุงูููุงุชูุญุ ุงุฎุชุจุฑ API endpoints:

### 1. ุงุฎุชุจุงุฑ API Stats
```bash
curl https://your-site.vercel.app/api/stats
```

**ุงููุชูุฌุฉ ุงููุชููุนุฉ**: JSON ูุน ุฅุญุตุงุฆูุงุช

### 2. ุงุฎุชุจุงุฑ API Governorates
```bash
curl https://your-site.vercel.app/api/governorates
```

**ุงููุชูุฌุฉ ุงููุชููุนุฉ**: JSON ูุน ูุงุฆูุฉ ุงููุญุงูุธุงุช

### 3. ุงุฎุชุจุงุฑ API Donations
```bash
curl https://your-site.vercel.app/api/donations
```

**ุงููุชูุฌุฉ ุงููุชููุนุฉ**: JSON ูุน ุจูุงูุงุช ุงูุชุจุฑุนุงุช

---

## โ ูุงุฆูุฉ ุงูุชุญูู

- [ ] ุชู ุชุญุฏูุซ `NEXT_PUBLIC_SUPABASE_URL` ูู Vercel
- [ ] ุชู ุชุญุฏูุซ `NEXT_PUBLIC_SUPABASE_ANON_KEY` ูู Vercel
- [ ] ุชู ุฅุนุงุฏุฉ ูุดุฑ ุงููููุน
- [ ] ุชู ุงุฎุชุจุงุฑ ุงูุตูุญุฉ ุงูุฑุฆูุณูุฉ
- [ ] ุชู ุงุฎุชุจุงุฑ ุตูุญุฉ ุงูุฅุญุตุงุฆูุงุช
- [ ] ุชู ุงุฎุชุจุงุฑ API endpoints
- [ ] ูุง ุชูุฌุฏ ุฃุฎุทุงุก ูู Console
- [ ] ุชู ุชุญุฏูุซ `.env.local` (ุฅู ูุฌุฏ)

---

## ๐ ุงุณุชูุดุงู ุงูุฃุฎุทุงุก

### ุงููุดููุฉ: ุงููููุน ูุง ูุชุตู ุจู Supabase

**ุงูุญู**:
1. ุชุญูู ูู ุฃู Environment Variables ูุญุฏุซุฉ ูู Vercel
2. ุชุญูู ูู ุฃู ุงูููุงุชูุญ ุตุญูุญุฉ ูู Supabase Dashboard
3. ุฃุนุฏ ูุดุฑ ุงููููุน ุจุฏูู Build Cache
4. ุฑุงุฌุน Console ููุฃุฎุทุงุก

### ุงููุดููุฉ: ุฃุฎุทุงุก 401 ุฃู 403

**ุงูุญู**:
1. ุชุญูู ูู ุฃู `NEXT_PUBLIC_SUPABASE_ANON_KEY` ุตุญูุญ
2. ุชุญูู ูู RLS policies ูู Supabase
3. ุฑุงุฌุน ุณุฌูุงุช Supabase Dashboard

### ุงููุดููุฉ: ุงููููุน ูุนุฑุถ "Supabase not configured"

**ุงูุญู**:
1. ุชุญูู ูู ุฃู Environment Variables ููุฌูุฏุฉ ูู Vercel
2. ุชุญูู ูู ุฃู ุงูุจูุฆุฉ (Environment) ุตุญูุญุฉ (Production)
3. ุฃุนุฏ ูุดุฑ ุงููููุน

---

## ๐ ุงูุฏุนู

ุฅุฐุง ูุงุฌูุช ูุดุงูู:
1. ุฑุงุฌุน ููู `SECURITY_AUDIT_REPORT.md` ููุชูุงุตูู
2. ุฑุงุฌุน ููู `EMERGENCY_KEY_ROTATION.md` ูุฅุฌุฑุงุกุงุช ุงูุทูุงุฑุฆ
3. ุฑุงุฌุน ุณุฌูุงุช Vercel ู Supabase

---

**โ ุงูุฎูุงุตุฉ**: ุงููููุน ุฌุงูุฒ ููุนูู ูุน ุงูููุงุชูุญ ุงูุฌุฏูุฏุฉ. ููุท ูู ุจุชุญุฏูุซ Environment Variables ูู Vercel ูุฅุนุงุฏุฉ ูุดุฑ ุงููููุน.

